<html>
  <head>
      <meta charset="utf-8">
      <title>Atomizer Web</title>

      <link href='style.css' rel='stylesheet'>
      <meta content='Web app for Aotmizer - Atomic CSS on steroids' name='description'>
  </head>
  <body>
    <div class='wrapper'>
      <div class='top-section'>
        <header>
          <h1>
            Atomizer <span>Web</span> â€” <cite>Atomic CSS on steroids | by <a href="http://pankajparashar.com">@pankajparashar</a> | Report Issues on <a href="https://github.com/pankajparashar/atomizer-web">Github</a></cite>
          </h1>
        </header>
      </div>
      <div class='app-section'>
        <div class='tabs-section'>
          <div class='tab css'>
            <h2>Markup <a href="#" class="options">config</a></h2>
          </div>
          <div class='tab sass'>
            <h2>Atomic CSS <a href="#" class="options" id="select-all">select all</a></h2>
          </div>
        </div>
        <div class='code-section'>
          <form action='/' id='page' method='POST'>
            <div class='code-container left'>
              <textarea id='markup'></textarea>
            </div>
            <div class='code-container right'>
              <textarea id='atomic_css'></textarea>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="atomizer-web.js"></script>

    <script>
        $(document).ready(function(){
            markup = $('#markup');
            atomicCSS = $('#atomic_css');
            selectAll = $('#select-all');

            // Example
            markup.val('<!-- \n  Paste your markup here \n-->\n\n<div class="Bgc(#0280ae.5) C(#fff) P(20px)">\n  Lorem ipsum\n</div>');
            atomize();

            markup.on('keyup', atomize);
            selectAll.on('click', function(){
                atomicCSS.select();
            });

            function atomize(){
                var Atomizer = require('Atomizer');
                var atomizer = new Atomizer();

                var defaultConfig = {
                    "breakPoints": {
                        'sm': '@media(min-width=750px)',
                        'md': '@media(min-width=1000px)',
                        'lg': '@media(min-width=1200px)'
                    },
                    "custom": {
                        "1": "1px solid #000",
                        "foo": "2px dotted #f00"
                    },
                    "classNames": [
                    ]
                };

                var foundClasses = atomizer.findClassNames(markup.val());
                var finalConfig = atomizer.getConfig(foundClasses, defaultConfig);
                var acss = atomizer.getCss(finalConfig);
                acss = '/**\n * Uses Atomizer build v3.2.1. \n * Copyright (c) 2015, Yahoo Inc. All rights reserved. \n *\n **/\n\n' + acss;
                atomicCSS.val(acss);
            }
        });
    </script>
  </body>
</html>
